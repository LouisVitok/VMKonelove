INCLUDE console.inc
.DATA
.CODE
START:	
	MOV EBP, ESP
	SUB EBP, 4
	MOV EBX, 0
L:	ININT AL
	CMP AL, '('
	JE L1
	CMP AL, ')'
	JE L2
	CMP AL, ','
	JMP L
	MOVZX EAX, AL
	PUSH EAX
	JMP L
L1:	INC EBX
	JMP L
L2:	DEC EBX
	CMP EBX, 0
	JE L3
	JMP L
L3:	CMP DWORD PTR [ESP+8], 'M'
	JB L6
	MOV EAX, DWORD PTR [ESP+8]
	CMP EAX, 'M'
	JE L5
	POP EAX
	POP EBX
	CMP EAX, EBX
	JB L4
	MOV EAX, EBX
L4:	POP ECX
	PUSH EAX
	CMP ESP, EBP
	JE E
	JMP L3
L5:	POP EAX
	POP EBX
	CMP EAX, EBX
	JA L7
	MOV EAX, EBX
L7:	POP ECX
	PUSH EAX
	CMP ESP, EBP
	JE E
	JMP L3
L6:	MOV EAX, DWORD PTR [ESP+12]
	CMP EAX, 'M'
	JE L10
	POP EDX
	POP EAX
	POP EBX
	CMP EAX, EBX
	JB L11
	MOV EAX, EBX
L11:	POP ECX
	PUSH EDX
	PUSH EAX
	CMP ESP, EBP
	JE E
	JMP L3
L10:	POP EAX
	POP EBX
	CMP EAX, EBX
	JA L12
	MOV EAX, EBX
L12:	POP ECX
	PUSH EAX
	CMP ESP, EBP
	JE E
	JMP L3
E:	POP EAX
	OUTU EAX
EXIT
END START