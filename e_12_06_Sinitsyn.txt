CLD
LEA ESI, S+N-M
LEA EDI, T
MOV ECX, M
REP MOVSB
 
STD
LEA ESI, T
LEA EDI, S
MOV ECX, M
REP MOVSB

CLD 
LEA ESI, T
LEA EDI, S
MOV ECX, M
REP MOVSB
